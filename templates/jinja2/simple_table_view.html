{% extends "base.html" %}
{% block head %}

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="https://cdn.datatables.net/r/bs-3.3.5/dt-1.10.9/datatables.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.7.0/chosen.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://code.jquery.com/ui/1.9.2/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.13/css/jquery.dataTables.min.css"/>
    <link href="https://code.jquery.com/ui/1.9.2/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.css" rel="stylesheet"/>

    <link href="https://cdn.datatables.net/r/bs-3.3.5/dt-1.10.9/datatables.min.css"
          rel="stylesheet" type="text/css"/>

    <link href="https://yadcf-showcase.appspot.com/resources/css/jquery.dataTables.yadcf.css"
          rel="stylesheet" type="text/css"/>
    {#    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>#}
    {##}
    {#    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>#}
    {#    <script src="https://code.jquery.com/ui/1.9.0/jquery-ui.min.js"></script>#}
    {##}
    {#    <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>#}
    {#    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.7.0/chosen.jquery.min.js"></script>#}
    {#    <script src="https://yadcf-showcase.appspot.com/resources/js/jquery.dataTables.yadcf.js"></script>#}
    {#    #}

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.9.0/jquery-ui.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
    <!--<script src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.7.0/chosen.jquery.min.js"></script>
    <script src="https://yadcf-showcase.appspot.com/resources/js/jquery.dataTables.yadcf.js"></script>

    <style>
        td {
            max-width: 100px;
            min-width: 20px;
            white-space: pre-wrap;
            word-wrap: normal;
            table-layout: auto;
        }

    </style>
    {##}
    {#
    <style>
    table{
  margin: 0 auto;
  width: 100%;
  clear: both;
  border-collapse: collapse;
  table-layout: fixed; // ***********add this
  word-wrap:break-word; // ***********and this
    </style>
#}
{% endblock %}

{% block content %}
<table id="table" class="table table-striped table-condensed " cellspacing="0" cellpadding="1"></table>

<script>
    {% autoescape off %}
    var json_data = {{ data.data }};
    {% endautoescape %}

    $(document).ready(function () {

        var table = $('table').DataTable({
            "data": json_data,
            "autoWidth": false,

            columns: [
                {% for key in data.columns %}
                    {% if key =='genes' %}
                        {title: "{{ key }}", width: "50px"},
                    {% elif key =='term_name' %}
                        {title: "{{ key }}", width: "50px"},
                    {% elif key =='db' %}
                        {title: "{{ key }}", width: "50px"},
                    {% else %}
                        {title: "{{ key }}", width: "20px"},
                    {% endif %}

                    {#                {title: "{{ key }}"},#}
                {% endfor %}
            ]
        });

        yadcf.init(table, [
            {% autoescape off %}
            {{data.filters}}
            {% endautoescape %}
        ]);
    });
</script>
{% endblock %}